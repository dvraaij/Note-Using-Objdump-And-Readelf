#!/bin/bash

obj=foo.o

{
  objdump -d -M intel -S ${obj}
  echo
  echo '----------------------------------8<----------------------------------'
  echo
  readelf -h  ${obj}
  echo
  echo '----------------------------------8<----------------------------------'
  echo
  readelf -sW ${obj}
  echo
  echo '----------------------------------8<----------------------------------'
  echo
  readelf -SW ${obj}
  echo
  echo '----------------------------------8<----------------------------------'
  echo
  readelf -r  ${obj} 
  echo
  echo '----------------------------------8<----------------------------------'
  echo
  readelf -x .rodata ${obj}
  echo
  echo '----------------------------------8<----------------------------------'
  echo
  readelf -x .data   ${obj}
} > summary.txt
